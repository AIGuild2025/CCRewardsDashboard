# CSS/XPath Selectors for Extraction
#
# Bank-specific selectors for rapid extraction of card details.
# Versioned for easy rollback if bank updates their site.

selectors:

  American Express:
    platinum:
      card_name: 
        xpath: "//span[@class='normal']"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Annual fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::span[1]"
      benefits:
        xpath: "//div[@name='key-benefits']"
      rewards:
        xpath: "//h2[text()='Rewards']/parent::div/parent::div//aexp-list"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"
    platinum_reserve:
      card_name: "h1"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Annual fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::a[1]"
      benefits:
        xpath: "//section[@name='key-benefits']"
      rewards:
        xpath: "//div[@class='long-form-benefits-container']"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"
    platinum_travel:
      card_name: "h1"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Annual fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::a[1]"
      benefits:
        xpath: "//section[@name='key-benefits']"
      rewards:
        xpath: "//div[@class='long-form-benefits-container']"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"
    gold:
      card_name: "h1"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Card fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::a[1]"
      benefits:
        xpath: "//section[@name='key-benefits']"
      rewards:
        xpath: "//div[@class='long-form-benefits-container']"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"
    membership_rewards:
      card_name: "h1"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Annual fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::a[1]"
      benefits:
        xpath: "//section[@name='key-benefits']"
      rewards:
        xpath: "//div[@class='long-form-benefits-container']"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"
    smart_earn:
      card_name: "h1"
      annual_fee:
        xpath: "//div[@class='product-feature']//span[text()='Annual fee']/following::span[1]"
      card_type:
        xpath: "//div[@class='product-feature']//span[text()='Card Type']/following::a[1]"
      benefits:
        xpath: "//section[@name='key-benefits']"
      rewards:
        xpath: "//div[@class='long-form-benefits-container']"
      foot_notes:
        xpath: "//span[@class='eligibility_text__Footnotes']/div/span"
      eligibility:
        xpath: "//section[@class='card-detail__eligibility']/div[@class='card-detail__eligibility__wrapper']/ul"
    version: "2024-01-30"

  HDFC:
    pixel_play_credit_card:
      card_name:
        xpath: "//span[@class='banner-title']"
      benefits:
        xpath: "//ul[@class='showList']"
      eligibility:
        xpath: "//div[contains(@class, 'quick-eligibility_List')]"
    version: "2024-02-01"

# Generic fallback selectors
fallback:
  card_name: 
    - "h1"
    - "h1.title"
    - "[data-qa='card-name']"
  annual_fee:
    - "span[data-annual-fee]"
    - "p:contains('Annual')"
  benefits:
    - "li"
    - ".benefit-item"
    - "div[data-benefit]"
