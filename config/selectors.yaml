# CSS/XPath Selectors for Extraction
#
# Bank-specific selectors for rapid extraction of card details.
# Versioned for easy rollback if bank updates their site.

selectors:
  Chase:
    sapphire_preferred:
      card_name: "h1.chakra__heading"
      annual_fee: 
        xpath: "//span[contains(text(), 'Annual Fee')]/following-sibling::*"
        text_pattern: "\\$(\\d+)"
      earning_rate:
        xpath: "//span[contains(text(), 'earn')] | //p[contains(text(), 'Points')]"
      benefits:
        xpath: "//div[@data-qa='benefits-list']//li"
      eligibility:
        xpath: "//div[@data-qa='eligibility']"
    version: "2024-01-30"

  American Express:
    platinum:
      card_name: "h1"
      annual_fee:
        xpath: "//p[contains(text(), 'Annual')] | //span[@class='fee-amount']"
      earning_rate:
        xpath: "//div[@class='earning-section']"
      benefits:
        xpath: "//ul[@class='benefits-list']/li"
    version: "2024-01-30"

  Bank of America:
    premium_rewards:
      card_name: "h1.page-title"
      annual_fee:
        xpath: "//span[contains(text(), 'Annual Fee')]/parent::*"
      earning_rate:
        xpath: "//div[@class='earning-box']"
    version: "2024-01-30"
  HDFC:
    pixel_play_credit_card:
      card_name:
        xpath: "//span[@class='banner-title']"
      benefits:
        xpath: "//ul[@class='showList']"
      eligibility:
        xpath: "//div[contains(@class, 'quick-eligibility_List')]"
    version: "2024-02-01"

# Generic fallback selectors
fallback:
  card_name: 
    - "h1"
    - "h1.title"
    - "[data-qa='card-name']"
  annual_fee:
    - "span[data-annual-fee]"
    - "p:contains('Annual')"
  benefits:
    - "li"
    - ".benefit-item"
    - "div[data-benefit]"
